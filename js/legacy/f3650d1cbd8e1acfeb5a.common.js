(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{0:function(t,e,o){"use strict";o.d(e,"a",(function(){return l})),o.d(e,"b",(function(){return p}));var r=function(t){return new FormData(t)};o(12),o(62),o(9),o(25),o(64);function n(t,e,o,r,n,i,s){try{var a=t[i](s),c=a.value}catch(t){return void o(t)}a.done?e(c):Promise.resolve(c).then(r,n)}function i(t){return function(){var e=this,o=arguments;return new Promise((function(r,i){var s=t.apply(e,o);function a(t){n(s,r,i,a,c,"next",t)}function c(t){n(s,r,i,a,c,"throw",t)}a(void 0)}))}}function s(){return(s=i(regeneratorRuntime.mark((function t(e,o){var r,n,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.fromEntries(o),"https://echo.htmlacademy.ru",n=e.getAttribute("method"),i={method:n||"POST",credentials:"same-origin",body:JSON.stringify(r),headers:{}},this.controller&&(i.signal=this.controller.signal),t.prev=5,t.next=8,fetch("https://echo.htmlacademy.ru",i);case 8:if((s=t.sent).ok){t.next=11;break}throw new Error("server error");case 11:return t.abrupt("return",s);case 14:throw t.prev=14,t.t0=t.catch(5),new Error(t.t0.message);case 17:case"end":return t.stop()}}),t,this,[[5,14]])})))).apply(this,arguments)}var a,c=function(t,e){return s.apply(this,arguments)},u=(o(11),o(19),o(65),o(10),o(13),o(20),{init:function(){this.setListeners()},setListeners:function(){var t=this;this.form.addEventListener("submit",this),this.inputs.forEach((function(e){e.addEventListener("invalid",t),e.addEventListener("input",t)}))},destroyForm:function(){var t=this;this.form.removeEventListener("submit",this),this.inputs.forEach((function(e){e.removeEventListener("invalid",t),e.removeEventListener("input",t)}))},showSubmitting:function(){var t=this.form.querySelector('[type="submit"]');this.sending?(t.classList.add("submitting"),t.setAttribute("disabled","true")):(t.classList.remove("submitting"),t.removeAttribute("disabled"))},submitForm:function(t){var e=this;t.preventDefault(),this.sending=!0,this.showSubmitting();var o=this.getFormData(t.target);this.timeout=setTimeout((function(){e.sendForm(t.target,o).then((function(t){return e.onSuccessHandler(t)})).catch((function(t){return e.onErrorHandler(t)})).finally((function(){e.sending=!1,e.showSubmitting()}))}),2e3)},checkConfirmInput:function(t){var e=this.form.querySelector('[data-confirm="'.concat(t,'"]'));return this.validator.checkValidity(e)},checkInputValidity:function(t){var e=this.validator.checkValidity(t);this.validator.showCustomTooltip(t),e?t.classList.remove("input_error"):t.classList.add("input_error")},resendForm:function(){this.form.querySelector('[type="submit"]').click()},resetForm:function(){var t=this;this.inputs.forEach((function(e,o){t.validator.invalidities[o].size>0&&(t.validator.clearCustomTooltip(e),e.classList.remove("input_error"))})),this.form.reset()},onSuccessHandler:function(t){this.resetForm(),console.log(t)},onErrorHandler:function(t){console.log(t)},debounceInput:function(t,e){clearTimeout(a),a=setTimeout(t,e)},handleEvent:function(t){var e=this;switch(t.type){case"submit":return this.submitForm(t);case"invalid":return t.preventDefault(),this.checkInputValidity(t.target);case"input":return this.debounceInput((function(){e.checkInputValidity(t.target)}),150)}}}),l=function(t,e,o){var r=this;this.form=o,this.validator=new t(e),this.inputs=new Map,e.forEach((function(t){r.inputs.set(t,r.form.querySelector('[name="'.concat(t,'"]')))})),this.sending=!1},p={getFormData:r,sendForm:c,init:u.init,setListeners:u.setListeners,destroyForm:u.destroyForm,showSubmitting:u.showSubmitting,submitForm:u.submitForm,checkConfirmInput:u.checkConfirmInput,checkInputValidity:u.checkInputValidity,resendForm:u.resendForm,resetForm:u.resetForm,onSuccessHandler:u.onSuccessHandler,onErrorHandler:u.onErrorHandler,debounceInput:u.debounceInput,handleEvent:u.handleEvent}},124:function(t,e,o){t.exports=o(146)},146:function(t,e,o){"use strict";o.r(e);o(36),o(10),o(11),o(130),o(12),o(131),o(40),o(19),o(9),o(136),o(13),o(20);function r(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var i=function(t,e,o){this.wrap=t,this.box=t.querySelector(".modal-box"),this.btns=o,this.startModal=e,this.activeModal=e,this.siblings=new Map},s={init:function(){var t=this;this.wrap.addEventListener("keydown",this),this.wrap.addEventListener("mousedown",this),this.wrap.querySelectorAll("[data-modal], [data-modal-ctrl]").forEach((function(e){e.addEventListener("click",t)})),this.btns.forEach((function(e){e.addEventListener("click",t)})),"undefined"!==ResizeObserver&&(this.ro=new ResizeObserver((function(e){e.forEach((function(e){if("false"===e.target.getAttribute("aria-hidden")){var o=e.borderBoxSize[0].blockSize;t.box.style.setProperty("min-height","".concat(o,"px"))}}))})),this.box.querySelectorAll(".modal").forEach((function(e){t.ro.observe(e)})))},getModalOpener:function(t){return"menuitem"===t.getAttribute("role")?t.closest('[role="menu"]').previousElementSibling:t},open:function(t){this.wrap.setAttribute("aria-hidden","false"),this.setBoxHeight(),this.activeModal.setAttribute("aria-hidden","false"),this.opener=this.getModalOpener(t),this.addInert(this.wrap),this.focusTrap(this.activeModal),this.wrap.focus()},close:function(){this.wrap.setAttribute("aria-hidden","true"),this.activeModal.setAttribute("aria-hidden","true"),this.opener.focus(),this.activeModal=this.startModal,this.siblings.forEach((function(t,e){null===t?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t)})),this.siblings.clear(),this.setBoxHeight()},showModal:function(t){this.activeModal.setAttribute("aria-hidden","true"),this.activeModal=this.wrap.querySelector("#modal-".concat(t)),this.setBoxHeight(),this.activeModal.setAttribute("aria-hidden","false"),this.focusTrap(this.activeModal),this.activeModal.focus(),this.wrap.scrollTo(0,0)},setBoxHeight:function(){var t=this.activeModal.offsetHeight;this.box.style.setProperty("min-height","".concat(t,"px"))},back:function(){var t=this.startModal.getAttribute("id").slice(6);this.showModal(t)},focusTrap:function(t){var e=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]",'[tabindex="0"]'].join(","),o=t.querySelectorAll(e);this.first=o[0],this.last=o[o.length-1]},keydownModal:function(t){switch(t.key){case"Tab":if(t.target===this.last&&!t.shiftKey)return t.preventDefault(),this.first.focus();if((t.target===this.first||t.target===this.wrap||t.target===this.activeModal)&&t.shiftKey)return t.preventDefault(),this.last.focus();break;case"Escape":return this.close()}},addInert:function(t){var e=this;t!==document.body&&(r(t.parentElement.children).forEach((function(o){o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&(e.siblings.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))})),this.addInert(t.parentElement))},destroy:function(){var t=this;this.wrap.removeEventListener("keydown",this),this.wrap.removeEventListener("mousedown",this),this.wrap.querySelectorAll("[data-modal], [data-modal-ctrl]").forEach((function(e){e.removeEventListener("click",t)})),this.btns.forEach((function(e){e.removeEventListener("click",t)})),"undfined"!==ResizeObserver&&this.ro.disconnect()},handleEvent:function(t){switch(t.type){case"click":if(this.btns.includes(t.currentTarget))return this.open(t.currentTarget);if(t.currentTarget.hasAttribute("data-modal")){var e=t.currentTarget.getAttribute("data-modal");return this.showModal(e)}if("close"===t.currentTarget.getAttribute("data-modal-ctrl"))return this.close();if("back"===t.currentTarget.getAttribute("data-modal-ctrl"))return this.back();break;case"mousedown":if(t.target===this.wrap)return this.close();break;case"keydown":return this.keydownModal(t)}}},a=function(t,e,o,r,n){i.call(this,t,e,o),this.login=r,this.singup=n};a.prototype={constructor:a,getModalOpener:s.getModalOpener,open:s.open,showModal:s.showModal,back:s.back,setBoxHeight:s.setBoxHeight,focusTrap:s.focusTrap,keydownModal:s.keydownModal,addInert:s.addInert,destroy:s.destroy,handleEvent:s.handleEvent,init:function(){s.init.call(this),this.login.init(),this.singup.init()},close:function(){this.login.resetForm(),this.singup.resetForm(),s.close.call(this)}};var c=a,u=(o(24),o(0)),l={setFormPopupListeners:function(){var t=this;this.form.querySelectorAll("[data-form-popup]").forEach((function(e){e.addEventListener("click",t),e.addEventListener("keydown",t)}))},destroyFormPopup:function(){var t=this;this.form.querySelectorAll("[data-form-popup]").forEach((function(e){e.removeEventListener("click",t),e.removeEventListener("keydown",t)}))},statePopupControls:function(){var t=this.popup.querySelectorAll("[data-popup-control]");this.popupOpen?t.forEach((function(t){return t.removeAttribute("disabled")})):t.forEach((function(t){return t.setAttribute("disabled","true")}))},toogleFormPopup:function(t){this.popupOpen=!this.popupOpen,this.setFormPopupMessage(t),this.popup.setAttribute("aria-hidden",!this.popupOpen),this.popupOpen?this.popup.focus():this.form.querySelector('[type="submit"]').focus(),this.statePopupControls()},setFormPopupMessage:function(t){var e=t||"";this.popup.querySelector("[data-popup-msg]").innerText=e},focusTrapPopup:function(t){var e=t.querySelectorAll("[data-popup-control]");this.first=e[0],this.last=e[e.length-1]},keydownPopup:function(t){switch(t.key){case"Tab":if(t.target===this.last&&!t.shiftKey)return t.preventDefault(),this.first.focus();if(t.target===this.first&&!0===t.shiftKey)return t.preventDefault(),this.last.focus();if(t.target===this.popup&&!0===t.shiftKey)return t.preventDefault(),this.last.focus();break;case"Escape":return t.stopPropagation(),this.toogleFormPopup()}},handleEvent:function(t){switch(t.type){case"click":if("close-popup"===t.target.getAttribute("data-popup-control"))return this.toogleFormPopup();if("resend-form"===t.target.getAttribute("data-popup-control"))return this.resendForm();if("close-form"===t.target.getAttribute("data-popup-control"))return this.resetForm();break;case"keydown":return this.keydownPopup(t)}}},p={setFormPopupListeners:l.setFormPopupListeners,setFormPopupMessage:l.setFormPopupMessage,toogleFormPopup:l.toogleFormPopup,focusTrapPopup:l.focusTrapPopup,keydownPopup:l.keydownPopup,statePopupControls:l.statePopupControls,destroyFormPopup:l.destroyFormPopup,handleEvent:l.handleEvent},h=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];u.a.call.apply(u.a,[this].concat(e)),this.popupOpen=!1};h.prototype={constructor:h,getFormData:u.b.getFormData,sendForm:u.b.sendForm,init:u.b.init,checkInputValidity:u.b.checkInputValidity,checkConfirmInput:u.b.checkConfirmInput,showSubmitting:u.b.showSubmitting,setFormPopupMessage:p.setFormPopupMessage,toogleFormPopup:p.toogleFormPopup,focusTrapPopup:p.focusTrapPopup,keydownPopup:p.keydownPopup,statePopupControls:p.statePopupControls,debounceInput:u.b.debounceInput,setListeners:function(){u.b.setListeners.call(this),p.setFormPopupListeners.call(this)},destroyForm:function(){u.b.destroyForm.call(this),p.destroyFormPopup.call(this)},onSuccessHandler:function(t){u.b.onSuccessHandler.call(this,t),this.popup=this.form.querySelector('[data-form-popup="success"]'),this.toogleFormPopup("form successfully send"),this.focusTrapPopup(this.popup)},onErrorHandler:function(t){u.b.onErrorHandler.call(this,t),this.popup=this.form.querySelector('[data-form-popup="error"]'),this.toogleFormPopup(t),this.focusTrapPopup(this.popup)},submitForm:function(t){t.preventDefault(),this.checkConfirmInput("singup-password")&&u.b.submitForm.call(this,t)},resendForm:function(){this.popupOpen&&this.toogleFormPopup(),u.b.resendForm.call(this)},resetForm:function(){this.popupOpen&&this.toogleFormPopup(),u.b.resetForm.call(this)},handleEvent:function(t){u.b.handleEvent.call(this,t),p.handleEvent.call(this,t)}};var d=h,m=o(7),f=document.getElementById("form-singup"),g=new d(m.a,["name","email","password","confirm_password"],f),v=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];u.a.call.apply(u.a,[this].concat(e)),this.popupOpen=!1};v.prototype={constructor:v,getFormData:u.b.getFormData,sendForm:u.b.sendForm,init:u.b.init,checkInputValidity:u.b.checkInputValidity,showSubmitting:u.b.showSubmitting,submitForm:u.b.submitForm,setFormPopupMessage:p.setFormPopupMessage,toogleFormPopup:p.toogleFormPopup,focusTrapPopup:p.focusTrapPopup,keydownPopup:p.keydownPopup,statePopupControls:p.statePopupControls,debounceInput:u.b.debounceInput,setListeners:function(){u.b.setListeners.call(this),p.setFormPopupListeners.call(this)},destroyForm:function(){u.b.destroyForm.call(this),p.destroyFormPopup.call(this)},onSuccessHandler:function(t){u.b.onSuccessHandler.call(this,t)},onErrorHandler:function(t){u.b.onErrorHandler.call(this,t),this.popup=this.form.querySelector('[data-form-popup="error"]'),this.toogleFormPopup(t.message),this.focusTrapPopup(this.popup)},resendForm:function(){this.popupOpen&&this.toogleFormPopup(),u.b.resendForm.call(this)},resetForm:function(){this.popupOpen&&this.toogleFormPopup(),u.b.resetForm.call(this)},handleEvent:function(t){u.b.handleEvent.call(this,t),p.handleEvent.call(this,t)}};var b=v,y=document.getElementById("form-login"),w=new b(m.a,["email","password"],y),M=document.getElementById("modal-auth"),F=M.querySelector("#modal-login"),E=new c(M,F,Array.from(document.querySelectorAll('[data-modal="auth"]')),w,g),I=function(t,e,o,r){i.call(this,t,e,o),this.Form=r};I.prototype={constructor:I,init:s.init,getModalOpener:s.getModalOpener,open:s.open,setBoxHeight:s.setBoxHeight,focusTrap:s.focusTrap,keydownModal:s.keydownModal,addInert:s.addInert,destroy:s.destroy,handleEvent:s.handleEvent,back:function(){this.form&&this.form.abortSubmit(),s.back.call(this)},showModal:function(t){s.showModal.call(this,t);var e=this.activeModal.querySelector("form");e&&(this.form&&this.form.destroyForm(),this.form=new this.Form(e),this.form.init())},close:function(){this.form&&this.form.abortSubmit(),s.close.call(this)}};var P=I,S=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];u.a.call.apply(u.a,[this].concat(e)),this.popupOpen=!1};S.prototype={constructor:S,getFormData:u.b.getFormData,sendForm:u.b.sendForm,checkInputValidity:u.b.checkInputValidity,showSubmitting:u.b.showSubmitting,submitForm:u.b.submitForm,setFormPopupMessage:p.setFormPopupMessage,toogleFormPopup:p.toogleFormPopup,focusTrapPopup:p.focusTrapPopup,keydownPopup:p.keydownPopup,statePopupControls:p.statePopupControls,debounceInput:u.b.debounceInput,init:function(){this.controller=new AbortController,u.b.init.call(this)},setListeners:function(){u.b.setListeners.call(this),p.setFormPopupListeners.call(this),this.controller.signal.addEventListener("abort",(function(){console.log("*** abort submit form ***")}))},destroyForm:function(){u.b.destroyForm.call(this),p.destroyFormPopup.call(this)},onSuccessHandler:function(t){u.b.onSuccessHandler.call(this,t),this.popup=this.form.querySelector('[data-form-popup="success"]'),this.toogleFormPopup("form successfully send"),this.focusTrapPopup(this.popup)},onErrorHandler:function(t){u.b.onErrorHandler.call(this,t),this.popup=this.form.querySelector('[data-form-popup="error"]'),this.toogleFormPopup(t),this.focusTrapPopup(this.popup)},resendForm:function(){this.popupOpen&&this.toogleFormPopup(),u.b.resendForm.call(this)},resetForm:function(){this.popupOpen&&this.toogleFormPopup(),u.b.resetForm.call(this)},abortSubmit:function(){this.sending&&(clearTimeout(this.timeout),this.controller.abort(),this.sending=!1,this.showSubmitting())},handleEvent:function(t){u.b.handleEvent.call(this,t),p.handleEvent.call(this,t)}};var k=S,x=(o(143),{Backspace:"Backspace",Clear:"Clear",Down:"ArrowDown",End:"End",Enter:"Enter",Escape:"Escape",Home:"Home",Left:"ArrowLeft",PageDown:"PageDown",PageUp:"PageUp",Right:"ArrowRight",Space:" ",Tab:"Tab",Up:"ArrowUp"}),A=0,L=1,O=2,T=3,C=4,H=5,q=6,D=8,U=10,B=11,V=12,_=function(t,e){var o=t.key;return e||o!==x.Enter&&o!==x.Space?o===x.Down?C:o===x.Up?q:o===x.Home?O:o===x.End?T:o===x.Escape?A:o===x.Enter?L:o===x.Space?D:o===x.Tab?U:o===x.Left?B:o===x.Right?V:void 0:H},K=function(t,e,o){switch(o){case O:return 0;case T:return e;case q:case B:return Math.max(0,t-1);case C:case V:return Math.min(e,t+1);default:return t}};var R=function(t){this.elem=t,this.combobox=this.elem.querySelector('[role="combobox"]'),this.options=this.elem.querySelector('[role="listbox"]'),this.arrayOptions=Array.from(this.options.children),this.input=this.elem.querySelector("input"),this.open=!1,this.optionSelectedIndex=0,this.optionFocusedIndex=0},j={init:function(){var t=this;this.combobox.addEventListener("blur",this),this.combobox.addEventListener("click",this),this.combobox.addEventListener("keydown",this),this.options.addEventListener("mousedown",this),this.arrayOptions.forEach((function(e){e.addEventListener("click",t)}))},toogleOptions:function(t){t.stopPropagation(),this.arrayOptions.length<1||(this.open=!this.open,this.combobox.setAttribute("aria-expanded","".concat(this.open)),this.open?this.openOptions():this.closeOptions())},openOptions:function(){this.elem.classList.add("is-active");var t=this.arrayOptions[this.optionSelectedIndex].getAttribute("id");this.combobox.setAttribute("aria-activedescendant","".concat(t)),this.onOptionFocused(this.optionSelectedIndex)},closeOptions:function(){this.elem.classList.remove("is-active"),this.combobox.setAttribute("aria-activedescendant","")},resetCombobox:function(){this.combobox.setAttribute("aria-activedescendant",""),this.combobox.textContent="",this.input.value="",this.arrayOptions[this.optionSelectedIndex].setAttribute("aria-selected","false"),this.arrayOptions[this.optionFocusedIndex].classList.remove("is-focus"),this.optionSelectedIndex=0,this.optionFocusedIndex=0},onOptionChecked:function(t){var e=t.target.getAttribute("role"),o=this.arrayOptions[this.optionSelectedIndex],r="option"===e?t.target:this.arrayOptions[this.optionFocusedIndex];if(o&&o.setAttribute("aria-selected","false"),r)if(r.setAttribute("aria-selected","true"),this.combobox.textContent=r.textContent,this.input.value=r.textContent,"function"==typeof window.CustomEvent)this.input.dispatchEvent(new Event("input"));else{var n=document.createEvent("Event");n.initEvent("input",!0,!1),this.input.dispatchEvent(n)}var i=this.arrayOptions.findIndex((function(t){return t===r}));this.optionSelectedIndex=i},onKeydown:function(t){var e=this.arrayOptions.length-1,o=_(t,this.open);switch(o){case C:case T:case O:case q:return t.preventDefault(),this.onOptionFocused(K(this.optionFocusedIndex,e,o));case D:return t.preventDefault(),this.toogleOptions(t);case L:return t.preventDefault(),this.onOptionChecked(t),this.toogleOptions(t);case A:case H:return t.preventDefault(),this.toogleOptions(t);case U:return this.closeOptions()}},onComboboxBlur:function(t){this.ignoreBlur?this.ignoreBlur=!1:this.open&&this.toogleOptions(t)},onListboxMouseDown:function(){this.ignoreBlur=!0},onOptionFocused:function(t){var e,o,r,n,i=this.arrayOptions[this.optionFocusedIndex],s=this.arrayOptions[t];this.combobox.setAttribute("aria-activedescendant","".concat(s.id)),this.open&&((n=this.options)&&n.clientHeight<n.scrollHeight)&&(e=this.arrayOptions[t],o=this.options,r=e.offsetTop,o.scrollTo(0,r)),i&&i.classList.remove("is-focus"),s&&s.classList.add("is-focus"),this.optionFocusedIndex=t},destroy:function(){var t=this;this.combobox.removeEventListener("blur",this),this.combobox.removeEventListener("click",this),this.combobox.removeEventListener("keydown",this),this.options.removeEventListener("mousedown",this),this.arrayOptions.forEach((function(e){e.removeEventListener("click",t)})),this.arrayOptions[this.optionFocusedIndex].classList.remove("is-focus")},handleEvent:function(t){switch(t.type){case"click":var e=t.target.getAttribute("role");if("combobox"===e)return this.toogleOptions(t);if("option"===e)return t.stopPropagation(),this.onOptionChecked(t),this.toogleOptions(t);break;case"blur":return this.onComboboxBlur(t);case"keydown":return this.onKeydown(t);case"mousedown":return this.onListboxMouseDown()}}},z=R;z.prototype={constructor:R,init:j.init,toogleOptions:j.toogleOptions,openOptions:j.openOptions,closeOptions:j.closeOptions,resetCombobox:j.resetCombobox,onOptionChecked:j.onOptionChecked,onKeydown:j.onKeydown,onComboboxBlur:j.onComboboxBlur,onListboxMouseDown:j.onListboxMouseDown,onOptionFocused:j.onOptionFocused,destroy:j.destroy,handleEvent:j.handleEvent};var N=z,J=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];u.a.call.apply(u.a,[this].concat(e)),this.popupOpen=!1};J.prototype={constructor:J,getFormData:u.b.getFormData,sendForm:u.b.sendForm,checkInputValidity:u.b.checkInputValidity,showSubmitting:u.b.showSubmitting,submitForm:u.b.submitForm,setFormPopupMessage:p.setFormPopupMessage,toogleFormPopup:p.toogleFormPopup,focusTrapPopup:p.focusTrapPopup,keydownPopup:p.keydownPopup,statePopupControls:p.statePopupControls,debounceInput:u.b.debounceInput,setListeners:function(){u.b.setListeners.call(this),p.setFormPopupListeners.call(this),this.controller.signal.addEventListener("abort",(function(){console.log("*********** abort *************")}))},init:function(){var t=this;this.controller=new AbortController,u.b.init.call(this);var e=this.form.querySelectorAll(".combobox");this.combobox=[],e.forEach((function(e){t.combobox.push(new N(e)),t.combobox[t.combobox.length-1].init()}))},destroyForm:function(){this.combobox.forEach((function(t){t.destroy()})),u.b.destroyForm.call(this),p.destroyFormPopup.call(this)},onSuccessHandler:function(t){u.b.onSuccessHandler.call(this,t),this.popup=this.form.querySelector('[data-form-popup="success"]'),this.toogleFormPopup("form successfully send"),this.focusTrapPopup(this.popup)},onErrorHandler:function(t){u.b.onErrorHandler.call(this),this.popup=this.form.querySelector('[data-form-popup="error"]'),this.toogleFormPopup(t),this.focusTrapPopup(this.popup)},resendForm:function(){this.popupOpen&&this.toogleFormPopup(),u.b.resendForm.call(this)},resetForm:function(){this.popupOpen&&this.toogleFormPopup(),this.combobox.forEach((function(t){t.resetCombobox()})),u.b.resetForm.call(this)},abortSubmit:function(){this.sending&&(clearTimeout(this.timeout),this.controller.abort(),this.sending=!1,this.showSubmitting())},handleEvent:function(t){u.b.handleEvent.call(this,t),p.handleEvent.call(this,t)}};var Y=J;function $(t,e,o,r){var n=r.bind(null,e,o),i=document.getElementById("modal-trade-".concat(t)),s=i.querySelector("#modal-".concat(t)),a=Array.from(document.querySelectorAll("[data-modal='".concat(t,"']")));return new P(i,s,a,n)}var G=$("coin",m.a,["amount"],k),Q=$("card",m.a,["card","currency","amount"],Y),W={init:function(){var t=this;this.btn.addEventListener("mousedown",this),this.btn.addEventListener("click",this),this.menu.addEventListener("blur",this),this.menu.addEventListener("keydown",this),this.arrayActions.forEach((function(e){e.addEventListener("click",t)}))},toogleMenu:function(t){t.stopPropagation(),this.open=!this.open,this.btn.setAttribute("aria-expanded",this.open),this.open?this.openMenu():this.closeMenu()},openMenu:function(){this.menu.setAttribute("aria-hidden","false"),this.menu.focus(),this.focusAction(0)},closeMenu:function(){this.menu.setAttribute("aria-activedescendant",""),this.menu.setAttribute("aria-hidden","true")},selectAction:function(t){if("menu"===t.target.getAttribute("role")){var e=t.target.getAttribute("aria-activedescendant");t.target.querySelector("#".concat(e)).click()}},focusAction:function(t){var e=this.arrayActions[t].getAttribute("id");this.menu.setAttribute("aria-activedescendant","".concat(e)),this.arrayActions[this.actionFocusedIndex].classList.remove("is-focus"),this.arrayActions[t].classList.add("is-focus"),this.actionFocusedIndex=t},blurMenu:function(t){this.ignoreBlur?this.ignoreBlur=!1:this.open&&this.toogleMenu(t)},mousedownMenu:function(){this.ignoreBlur=this.open},destroy:function(){var t=this;this.btn.removeEventListener("mousedown",this),this.btn.removeEventListener("click",this),this.menu.removeEventListener("blur",this),this.menu.removeEventListener("keydown",this),this.arrayActions.forEach((function(e){e.removeEventListener("click",t)}))},keydownMenu:function(t){var e=this.arrayActions.length-1,o=_(t,this.open);switch(o){case C:case q:case O:case T:return t.preventDefault(),this.focusAction(K(this.actionFocusedIndex,e,o));case D:return t.preventDefault(),this.btn.focus();case L:return t.preventDefault(),this.selectAction(t);case A:case U:case H:return t.preventDefault(),this.toogleMenu(t)}},handleEvent:function(t){switch(t.type){case"click":return"menuitem"===t.target.getAttribute("role")?this.selectAction(t):this.toogleMenu(t);case"blur":return this.blurMenu(t);case"keydown":return this.keydownMenu(t);case"mousedown":return this.mousedownMenu()}}},X=function(t){this.btn=t.querySelector("[aria-controls]"),this.menu=t.querySelector('[role="menu"]'),this.arrayActions=Array.from(this.menu.children),this.open=!1,this.actionFocusedIndex=0};X.prototype={constructor:X,init:W.init,toogleMenu:W.toogleMenu,openMenu:W.openMenu,closeMenu:W.closeMenu,selectAction:W.selectAction,focusAction:W.focusAction,blurMenu:W.blurMenu,mousedownMenu:W.mousedownMenu,destroy:W.destroy,keydownMenu:W.keydownMenu,handleEvent:W.handleEvent};var Z=new X(document.getElementById("menu-action-sell")),tt={init:function(){this.btn.addEventListener("click",this)},openMenu:function(){this.btn.setAttribute("aria-expanded","true")},closeMenu:function(){this.btn.setAttribute("aria-expanded","false")},toogleMenu:function(){this.open?this.closeMenu():this.openMenu(),this.open=!this.open},destroy:function(){this.btn.removeEventListener("click",this)},handleEvent:function(t){switch(t.type){case"click":return this.toogleMenu()}}},et=function(t){this.btn=document.querySelector("[aria-controls='".concat(t,"']")),this.menu=document.querySelector("#".concat(t)),this.open=!1};et.prototype={constructor:et,init:tt.init,openMenu:tt.openMenu,closeMenu:tt.closeMenu,toogleMenu:tt.toogleMenu,destroy:tt.destroy,handleEvent:tt.handleEvent},new et("menu").init(),Z.init(),E.init(),G.init(),Q.init()},7:function(t,e,o){"use strict";o(11),o(12),o(40),o(19),o(9),o(10),o(13),o(20);var r={checkValidity:function(t){if(t.setCustomValidity(""),!t.validity.valid)return this.getInvalidMessages(t),!1;if(t.hasAttribute("data-confirm")){var e=t.getAttribute("data-confirm"),o=document.getElementById(e);if(""!==t.value&&o.value!==t.value)return this.getInvalidMessages(t),!1}return!0},getInvalidMessages:function(t){var e=t.validationMessage,o=t.getAttribute("name"),r=t.validity;if(t.hasAttribute("data-confirm")){var n=this.invalidMessages[o].valueMismatch||"value does not match";this.addInvalidities(o,n)}if(r.valueMissing){var i=this.invalidMessages[o].valueMissing||e;this.addInvalidities(o,i)}if(r.badInput){var s=this.invalidMessages[o].badInput||e;this.addInvalidities(o,s)}if(r.customError){var a=this.invalidMessages[o].customError||e;this.addInvalidities(o,a)}if(r.patternMismatch){var c=this.invalidMessages[o].patternMismatch||e;this.addInvalidities(o,c)}if(r.rangeOverFlow){var u=this.invalidMessages[o].rangeOverFlow||e;this.addInvalidities(o,u)}if(r.rangeUnderFlow){var l=this.invalidMessages[o].rangeUnderFlow||e;this.addInvalidities(o,l)}if(r.stepMismatch){var p=this.invalidMessages[o].stepMismatch||e;this.addInvalidities(o,p)}if(r.tooLong){var h=this.invalidMessages[o].tooLong||e;this.addInvalidities(o,h)}if(r.tooShort){var d=this.invalidMessages[o].tooShort||e;this.addInvalidities(o,d)}if(r.typeMismatch){var m=this.invalidMessages[o].typeMismatch||e;this.addInvalidities(o,m)}},addInvalidities:function(t,e){this.invalidities[t].set(e,!0)},showCustomTooltip:function(t){var e=this,o=t.getAttribute("name"),r=t.closest("form").querySelector("[data-error='".concat(o,"']"));this.invalidities[o].size>0&&this.invalidities[o].forEach((function(t,n){t?e.showCustomErrorMessage(n,t,r,o):e.hideCustomErrorMessage(n,r,o)}))},showCustomErrorMessage:function(t,e,o,r){this.errorItem[r].get(t)||this.addMessageElement(t,o,r),this.invalidities[r].set(t,!e)},hideCustomErrorMessage:function(t,e,o){this.errorItem[o].get(t)&&this.removeMessageElement(t,e,o),this.invalidities[o].delete(t)},clearCustomTooltip:function(t){var e=t.getAttribute("name"),o=t.closest("form").querySelector("[data-error='".concat(e,"']"));this.errorItem[e].forEach((function(t){t.style.setProperty("opacity","0"),setTimeout((function(){t.remove()}),150)})),o.style.setProperty("height","0px"),this.invalidities[e].clear(),this.errorItem[e].clear()},showNativeTooltip:function(t){var e=t.getAttribute("name"),o=this.invalidities[e][0]||"";t.setCustomValidity(o)},addMessageElement:function(t,e,o){var r=document.createElement("span");r.innerText=t,e.appendChild(r);var n=parseInt((e.style.height||"0px").slice(0,-2),10),i=r.offsetHeight;e.style.setProperty("height","".concat(n+i,"px")),r.style.setProperty("opacity","1"),this.errorItem[o].set(t,r)},removeMessageElement:function(t,e,o){var r=this.errorItem[o].get(t);this.errorItem[o].delete(t);var n=parseInt((e.style.height||"0px").slice(0,-2),10),i=r.offsetHeight;r.style.setProperty("opacity","0"),e.style.setProperty("height","".concat(n-i,"px")),setTimeout((function(){r.remove()}),150)}},n=function(t,e){var o=this;this.invalidities={},this.errorItem={},this.invalidMessages=t,e.forEach((function(t){o.invalidities[t]=new Map,o.errorItem[t]=new Map}))};n.prototype={checkValidity:r.checkValidity,getInvalidMessages:r.getInvalidMessages,addInvalidities:r.addInvalidities,showCustomTooltip:r.showCustomTooltip,clearCustomTooltip:r.clearCustomTooltip,showNativeTooltip:r.showNativeTooltip,addMessageElement:r.addMessageElement,removeMessageElement:r.removeMessageElement,showCustomErrorMessage:r.showCustomErrorMessage,hideCustomErrorMessage:r.hideCustomErrorMessage};var i={text:{badInput:"error text badInput",customError:"error text customError",patternMismatch:"error text patternMismatch",rangeOverFlow:"error text rangeOverFlow",rangeUnderFlow:"error text rangeUnderFlow",stepMismatch:"error text stepMismatch",tooLong:"error text tooLong",tooShort:"error text tooShort",typeMismatch:"error text typeMismatch",valueMissing:"error text valueMissing"},name:{badInput:"error name badInput",customError:"error name customError",patternMismatch:"error name patternMismatch",rangeOverFlow:"error name rangeOverFlow",rangeUnderFlow:"error name rangeUnderFlow",stepMismatch:"error name stepMismatch",tooLong:"error name tooLong",tooShort:"error name tooShort",typeMismatch:"error name typeMismatch",valueMissing:"error name valueMissing"},amount:{badInput:"error amount badInput",customError:"error amount customError",patternMismatch:"error amount patternMismatch",rangeOverFlow:"error amount rangeOverFlow",rangeUnderFlow:"error amount rangeUnderFlow",stepMismatch:"error amount stepMismatch",tooLong:"error amount tooLong",tooShort:"error amount tooShort",typeMismatch:"error amount typeMismatch",valueMissing:"error amount valueMissing"},card:{badInput:"error card badInput",customError:"error card customError",patternMismatch:"error card patternMismatch",rangeOverFlow:"error card rangeOverFlow",rangeUnderFlow:"error card rangeUnderFlow",stepMismatch:"error card stepMismatch",tooLong:"error card tooLong",tooShort:"error card tooShort",typeMismatch:"error card typeMismatch",valueMissing:"error card valueMissing"},currency:{badInput:"error currency badInput",customError:"error currency customError",patternMismatch:"error currency patternMismatch",rangeOverFlow:"error currency rangeOverFlow",rangeUnderFlow:"error currency rangeUnderFlow",stepMismatch:"error currency stepMismatch",tooLong:"error currency tooLong",tooShort:"error currency tooShort",typeMismatch:"error currency typeMismatch",valueMissing:"error currency valueMissing"},confirm_password:{badInput:"error confirm_password badInput",customError:"error confirm_password customError",patternMismatch:"error confirm_password patternMismatch",rangeOverFlow:"error confirm_password rangeOverFlow",rangeUnderFlow:"error confirm_passwordrangeUnderFlow",stepMismatch:"error confirm_password stepMismatch",tooLong:"error confirm_password tooLong",tooShort:"error confirm_password tooShort",typeMismatch:"error confirm_password typeMismatch",valueMissing:"error confirm_password valueMissing",valueMismatch:"error confirm_password valueMismatch"},tel:{badInput:"error tel badInput",customError:"error tel customError",patternMismatch:"error tel patternMismatch",rangeOverFlow:"error tel rangeOverFlow",rangeUnderFlow:"error tel rangeUnderFlow",stepMismatch:"error tel stepMismatch",tooLong:"errortelt tooLong",tooShort:"error tel tooShort",typeMismatch:"error tel typeMismatch",valueMissing:"error tel valueMissing"},email:{badInput:"error email badInput",customError:"error email customError",patternMismatch:"error email patternMismatch",rangeOverFlow:"error email rangeOverFlow",rangeUnderFlow:"error email rangeUnderFlow",stepMismatch:"error email stepMismatch",tooLong:"error email tooLong",tooShort:"error email tooShort",typeMismatch:"error email typeMismatch",valueMissing:"error email valueMissing"},password:{badInput:"error password badInput",customError:"error password customError",patternMismatch:"error password patternMismatch",rangeOverFlow:"error password rangeOverFlow",rangeUnderFlow:"error password rangeUnderFlow",stepMismatch:"error password stepMismatch",tooLong:"error password tooLong",tooShort:"error password tooShort",typeMismatch:"error password typeMismatch",valueMissing:"error password valueMissing"},url:{badInput:"error url badInput",customError:"error url customError",patternMismatch:"error url patternMismatch",rangeOverFlow:"error url rangeOverFlow",rangeUnderFlow:"error url rangeUnderFlow",stepMismatch:"error url stepMismatch",tooLong:"error url tooLong",tooShort:"error url tooShort",typeMismatch:"error url typeMismatch",valueMissing:"error url valueMissing"}},s=n.bind(null,i);e.a=s}},[[124,0,2]]]);